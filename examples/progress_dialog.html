<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

        <link href="../src/iris.css" rel="stylesheet">
        <script src="../src/iris.js"></script>
        <script src="../src/i18n/iris.i18n.en-US.js"></script>

        <script>
            function showModal() {

                var dialog=Iris.show({
                    title: 'Data Import',
                    message: `
            <div class="progress">
                <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%">0%</div>
            </div>
            <p id="progressStatus" class="mt-3 text-center">Preparing...</p>
        `,
                    type: Iris.TYPE_INFO,
                    size: Iris.SIZE_NORMAL,
                    centered: true,
                    closeButton: false,
                    closeOnBackdrop: false,
                    keyboard: false,
                    buttons: []
                });

                // Simulate progress
                let progress = 0;
                const interval = setInterval(() => {
                    progress += 10;

                    const progressBar = document.getElementById('progressBar');
                    const progressStatus = document.getElementById('progressStatus');

                    progressBar.style.width = progress + '%';
                    progressBar.textContent = progress + '%';
                    progressStatus.textContent = `Processing ${progress}%...`;

                    if (progress >= 100) {
                        clearInterval(interval);

                        dialog.setType(Iris.TYPE_SUCCESS);
                        dialog.setTitle('Complete');
                        dialog.setContent('<div class="text-center"><i class="bi bi-check-circle" style="font-size: 3rem; color: green;"></i><p class="mt-3">Import completed successfully!</p></div>');

                        setTimeout(() => dialog.close(true), 2000);
                    }
                }, 500);

                return dialog;
            }

        </script>
    </head>

    <body>
        <button class="btn btn-primary" onclick="showModal();">Show modal</button>
    </body>
</html>